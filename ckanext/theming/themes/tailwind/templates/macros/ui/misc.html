{%- macro datetime(dt) -%}
    <time datetime="{{ h.render_datetime(dt, date_format='%Y-%m-%dT%H:%M:%S%z') }}" class="{{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ h.render_datetime(dt, with_hours=True) }}
    </time>
{%- endmacro %}

{%- macro spacer(size="md") -%}
    {%- set size_classes = {
        'xs': 'h-1',
        'sm': 'h-2',
        'md': 'h-4',
        'lg': 'h-6',
        'xl': 'h-8'
    } %}
    <div class="{{ size_classes.get(size, size_classes.md) }} {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}"></div>
{%- endmacro %}

{%- macro divider_with_text(content) -%}
    <div class="relative my-6 {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">{{ content }}</span>
        </div>
    </div>
{%- endmacro %}

{%- macro truncate(content, max_lines=1) -%}
    <div class="{{ 'line-clamp-' ~ max_lines if max_lines > 1 else 'truncate' }} text-gray-700 {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ content }}
    </div>
{%- endmacro %}

{%- macro badge_count(count) -%}
    <span class="inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ count }}
    </span>
{%- endmacro %}

{%- macro skeleton_loader(type="text") -%}
    <div class="animate-pulse {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {%- if type == 'avatar' %}
            <div class="w-10 h-10 bg-gray-200 rounded-full"></div>
        {%- elif type == 'input' %}
            <div class="w-full h-10 bg-gray-200 rounded"></div>
        {%- else %}
            <div class="h-4 bg-gray-200 rounded"></div>
        {%- endif %}
    </div>
{%- endmacro %}

{%- macro notification(title, content, type="info") -%}
    {%- set color_classes = {
        'info': 'bg-blue-50 text-blue-800 border-blue-200',
        'success': 'bg-green-50 text-green-800 border-green-200',
        'warning': 'bg-yellow-50 text-yellow-800 border-yellow-200',
        'error': 'bg-red-50 text-red-800 border-red-200',
        'danger': 'bg-red-50 text-red-800 border-red-200'
    } %}
    <div class="p-4 mb-4 bg-white border rounded-lg shadow {{ color_classes.get(type, color_classes.info) }} {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {%- if title %}
            <h4 class="font-bold">{{ title }}</h4>
        {%- endif %}
        <p>{{ content }}</p>
    </div>
{%- endmacro %}
