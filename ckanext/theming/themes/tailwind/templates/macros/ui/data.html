{%- macro table_block(striped=false, bordered=false) -%}
    <div class="overflow-x-auto {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        <table class="min-w-full divide-y divide-gray-200 {{ 'border border-gray-300' if bordered else '' }}">
            {{ caller() }}
        </table>
    </div>
{%- endmacro %}

{%- macro table_head_block() -%}
    <thead class="bg-gray-50 {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ caller() }}
    </thead>
{%- endmacro %}

{%- macro table_body_block() -%}
    <tbody class="bg-white divide-y divide-gray-200 {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ caller() }}
    </tbody>
{%- endmacro %}

{%- macro table_row_block() -%}
    <tr class="{{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ caller() }}
    </tr>
{%- endmacro %}

{%- macro table_row(columns, heading=false) -%}
    {%- call ui.table_row_block() %}
        {%- for column in columns %}
            {{ ui.table_cell(column, heading) }}
        {%- endfor %}
    {%- endcall %}
{%- endmacro %}

{%- macro table_cell(content, heading=false) -%}
    {% set tag = "th" if heading else "td" %}
    <{{ tag }} class="{{ 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider' if heading else 'px-6 py-4 whitespace-nowrap text-sm text-gray-500' }} {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {{ content }}
    </{{ tag }}>
{%- endmacro %}

{%- macro list_group(items) -%}
    <div class="border border-gray-200 rounded-md shadow-sm {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {%- for item in items %}
            <a href="#" class="flex items-center px-4 py-3 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 border-b border-gray-200 last:border-b-0">
                {{ item }}
            </a>
        {%- endfor %}
    </div>
{%- endmacro %}

{%- macro definition_list(items) -%}
    <dl class="space-y-6 {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {%- for term, definition in items %}
            <div class="flex flex-col sm:flex-row sm:space-x-4">
                <dt class="text-sm font-medium text-gray-500 sm:w-1/3">{{ term }}</dt>
                <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:w-2/3">{{ definition }}</dd>
            </div>
        {%- endfor %}
    </dl>
{%- endmacro %}

{%- macro stat(label, value, icon) -%}
    <div class="flex flex-col items-center p-4 bg-white border border-gray-200 rounded-lg shadow {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}">
        {%- if icon %}
            {{ ui.icon(icon, class="w-8 h-8 text-blue-500") }}
        {%- endif %}
        <div class="mt-2 text-3xl font-bold text-gray-900">{{ value }}</div>
        <div class="text-sm font-medium text-gray-500">{{ label }}</div>
    </div>
{%- endmacro %}

{%- macro chart(type, data, options) -%}
    <div class="chart-container {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}" style="position: relative; height:40vh; width:100%;">
        <canvas data-chart-type="{{ type }}" data-chart-data="{{ data|tojson }}" data-chart-options="{{ options|tojson if options else '{}' }}">
            Chart placeholder
        </canvas>
    </div>
{%- endmacro %}

{%- macro code_block(content, language="text") -%}
    <pre class="p-4 text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg overflow-x-auto {{ ui.util.attrs(kwargs).strip('class=') if ui.util.attrs(kwargs) else '' }}"><code class="language-{{ language }}">{{ content }}</code></pre>
{%- endmacro %}
