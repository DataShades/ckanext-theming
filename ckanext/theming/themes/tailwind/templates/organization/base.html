{% extends "page.html" %}

{%- block subtitle %}{{ h.humanize_entity_type('organization', group_type, 'page title') or _('Organizations') }}{% endblock -%}

{%- block breadcrumb_content %}
    {{ ui.breadcrumb_item(h.humanize_entity_type('organization', group_type, 'breadcrumb') or _('Organizations'), h.url_for(group_type ~ '.index')) }}
{%- endblock -%}

{%- block primary_content %}
    <div class="bg-white rounded-lg shadow p-6 mb-6">
        {%- block primary_content_inner %}{% endblock -%}
    </div>
{%- endblock -%}

{%- block secondary_content %}
    <div class="bg-white rounded-lg shadow p-6 mb-6">
        <h4 class="text-lg font-semibold mb-4">{{ _('Navigation') }}</h4>
        <div class="space-y-2">
            {{ ui.nav_item(_('View Organization'), h.url_for(group_type ~ '.read', id=group_dict.name), active=(c.action == 'read' or c.action == 'bulk_process'), class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded") }}
            {{ ui.nav_item(_('Dataset List'), h.url_for(group_type ~ '.read', id=group_dict.name, tab='datasets'), active=(c.action == 'read' and request.args.get('tab') == 'datasets'), class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded") }}
            {%- if h.check_access('organization_update', {'id': group_dict.id}) %}
                {{ ui.nav_item(_('Manage'), h.url_for(group_type ~ '.edit', id=group_dict.name), active=(c.action == 'edit' or c.action == 'member_new' or c.action == 'history'), class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded") }}
                {{ ui.nav_item(_('Members'), h.url_for(group_type ~ '.manage_members', id=group_dict.name), active=(c.action == 'manage_members' or c.action == 'member_new'), class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded") }}
            {%- endif %}
        </div>
    </div>
{%- endblock -%}
