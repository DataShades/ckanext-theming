{% extends "page.html" %}

{%- block primary_content_inner %}
    <h1>{{ _('Edit view') }}</h1>

    {{ ui.form_start(method="POST", action="", attrs={"class": "resource-view-form"}) }}
    {{ h.csrf_input() }}

    {{ ui.input(name="title", id="field-title", label=_('Title'), value=data.title or "", errors=errors.title or []) }}
    {{ ui.select(name="view_type", id="field-view-type", label=_('View Type'), options=h.get_allowed_view_types(), selected=data.view_type) }}
    {{ ui.textarea(name="description", id="field-description", label=_('Description'), value=data.description or "", errors=errors.description or []) }}
    {{ ui.input(name="resource_url", id="field-resource-url", label=_('Resource URL'), value=data.resource_url or "", errors=errors.resource_url or [], type="url") }}

    <div class="form-actions">
        {{ ui.button(_('Update View'), type="submit", attrs={"class": "btn btn-primary"}) }}
        {{ ui.button(_('Cancel'), type="button", href=h.url_for('dataset_resource.read', id=dataset.id, resource_id=resource.id), attrs={"class": "btn btn-secondary"}) }}
    </div>

    {{ ui.form_end() }}
{%- endblock %}
