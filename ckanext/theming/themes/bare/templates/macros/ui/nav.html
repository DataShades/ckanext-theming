{%- macro breadcrumb_wrapper(content) -%}
    <div {{ ui.util.attrs(kwargs) }} class="breadcrumbs">
        {{ content }}
    </div>
{%- endmacro %}

{%- macro breadcrumb_item(content, href, is_first) -%}
    {{ ui.breadcrumb_divider() if not is_first }}
    {{ ui.link(content, href, **kwargs) }}
{%- endmacro %}

{%- macro breadcrumb_divider(content="/") -%}
    <span {{ ui.util.attrs(kwargs) }} class="breadcrumb-divider">{{ content }}</span>
{%- endmacro %}


{%- macro nav_wrapper(content) -%}
    <nav {{ ui.util.attrs(kwargs) }} role="navigation">{{ content }}</nav>
{%- endmacro %}

{%- macro nav_item(content, href, active) -%}
    {%- if active %}
        <strong>{{ ui.link(content, href, **kwargs) }}</strong>
    {%- else -%}
        {{ ui.link(content, href, **kwargs) }}
    {%- endif %}
{%- endmacro %}

{%- macro main_nav_wrapper(content) -%}{{ ui.nav_wrapper(content, **kwargs) }}{%- endmacro %}
{%- macro main_nav_item(content, href, active) -%}{{ ui.nav_item(content, href, active, **kwargs) }}{%- endmacro %}

{%- macro account_nav_wrapper(content) -%}{{ ui.nav_wrapper(content, **kwargs) }}{%- endmacro %}
{%- macro account_nav_item(content, href, active) -%}{{ ui.nav_item(content, href, active, **kwargs) }}{%- endmacro %}

{%- macro content_nav_wrapper(content) -%}{{ ui.tab_wrapper(content, **kwargs) }}{%- endmacro %}
{%- macro content_nav_item(content, href, active) -%}{{ ui.tab_item(content, href, active, **kwargs) }}{%- endmacro %}

{%- macro page_action_wrapper(content) -%}{{ ui.nav_wrapper(content, **kwargs) }}{%- endmacro %}
{%- macro page_action_item(content, href) -%}{{ ui.button(content, href=href, **kwargs) }}{%- endmacro %}

{%- macro content_action_wrapper(content) -%}{{ ui.nav_wrapper(content, **kwargs) }}{%- endmacro %}
{%- macro content_action_item(content, href) -%}{{ ui.button(content, href=href, **kwargs) }}{%- endmacro %}

{%- macro tab_wrapper(content) -%}
    <nav {{ ui.util.attrs(kwargs) }} class="tabs" role="tablist">
        {{ content }}
    </nav>
{%- endmacro %}

{%- macro tab_item(content, href, active) -%}
    {%- if active -%}
        {%- do kwargs.setdefault("aria", {}).setdefault("selected", "true") -%}
        {%- do kwargs.setdefault("attrs", {}).setdefault("class", "active") -%}
    {%- endif %}
    {{ ui.link(content, href, **kwargs) }}
{%- endmacro %}

{%- macro menu_wrapper(content) -%}
    <div {{ ui.util.attrs(kwargs) }}>
        {{ content }}
    </div>
{%- endmacro %}

{%- macro menu_item(content, href, active) -%}
    {%- if active %}
        <strong>{{ ui.link(content, href, **kwargs) }}</strong>
    {%- else -%}
        {{ ui.link(content, href, **kwargs) }}
    {%- endif %}
{%- endmacro %}

{%- macro pagination(page=1, total=1, url_generator=h.pager_url, padding=2, hide_edges=false, hide_siblings=false, start_label=null, end_label=null, previous_label=_("Previous"), next_label=_("Next"), padding_label="...") -%}
    {%- if total > 1 %}
        <nav {{ ui.util.attrs(kwargs) }} role="navigation" aria-label="{{ _('Pagination') }}">

            {%- if page > 1 and not hide_siblings %}
                {{ ui.link(previous_label, href=url_generator(page=page - 1), aria={"label": _("Go to previous page")}) }}
            {%- endif %}


            {%- if page - 1 > padding %}
                {%- if not hide_edges -%}
                    {{ ui.link((start_label or 1), href=url_generator(page=1), aria={"label": _("Go to first page")}) }}
                {%- endif %}

                <span aria-hidden="true">{{ padding_label }}</span>
            {%- endif %}

            {%- for i in range([page - padding, 1]|max, [page + padding, total]|min + 1) %}
                {%- if i == page %}
                    <span aria-current="page">{{ i }}</span>
                {%- else %}
                    {{ ui.link(i, href=url_generator(page=i), aria={"label": _("Go to page {num}".format(num=i))}) }}
                {%- endif %}
            {%- endfor %}

            {%- if total - page > padding %}
                <span aria-hidden="true">{{ padding_label }}</span>
                {%- if not hide_edges -%}
                    {{ ui.link((end_label or total), href=url_generator(page=total), aria={"label": _("Go to last page")}) }}
                {%- endif %}
            {%- endif %}

            {%- if page < total and not hide_siblings %}
                {{ ui.link(next_label, href=url_generator(page=page + 1), aria={"label": _("Go to next page")}) }}
            {%- endif %}

        </nav>
    {%- endif %}
{%- endmacro %}

{%- macro dropdown_wrapper(content, title) -%}
    <div {{ ui.util.attrs(kwargs) }} class="dropdown" role="menu" aria-haspopup="true">
        {{ ui.button(title, aria={"haspopup": "true"}) }}
        <ul class="dropdown-menu" role="menu">
            <li role="none">{{ content }}</li>
        </ul>
    </div>
{%- endmacro %}

{%- macro dropdown_item(content, href="#") -%}
    <li role="none">
        {{ ui.link(content, href=href, role="menuitem", **kwargs) }}
    </li>
{%- endmacro %}

{%- macro sidebar(content) -%}
    <aside {{ ui.util.attrs(kwargs) }} class="sidebar">{{ content }}</aside>
{%- endmacro %}

{%- macro navbar(brand, items) -%}
    <nav {{ ui.util.attrs(kwargs) }} class="navbar">
        <div class="navbar-brand">{{ brand }}</div>
        <div class="navbar-nav">{{ items }}</div>
    </nav>
{%- endmacro %}
