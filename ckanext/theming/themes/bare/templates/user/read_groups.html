{% extends "user/read_base.html" %}

{%- set user = user_dict %}
{%- set group_type = h.default_group_type('group') %}
{%- set groups_available = h.groups_available(am_member=True,
    include_dataset_count=True,
    include_member_count=True,
    user=user['id'])
%}

{%- block subtitle %}
    {{ ui.subtitle_item(h.humanize_entity_type('group', group_type, 'facet label') or _('Groups')) }}
    {{ super() }}
{% endblock %}

{%- block breadcrumb_content -%}
    {{ super() }}
    {{ ui.breadcrumb_item(h.humanize_entity_type('group', group_type, 'facet label') or _('Groups'), h.url_for('user.read_groups', id=user.name)) }}
{%- endblock %}

{%- block primary_content_inner %}
    {{ ui.heading(h.humanize_entity_type('group', group_type, 'facet label') or _('Groups'), level=2) }}
    {%- if groups_available %}
        {{ ui.snippet("group/snippets/group_list.html", groups=groups_available, show_capacity=True) }}
    {%- else %}
        {{ ui.text(
            h.humanize_entity_type('group', group_type, 'you not member') or _('You are not a member of any groups.') if is_myself
            else h.humanize_entity_type('group', group_type, 'user not member') or _('User isn\'t a member of any groups.')
        )}}
    {%- endif %}
{%- endblock %}
