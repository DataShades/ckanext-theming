{% extends "user/dashboard.html" %}

{%- block subtitle %}
    {{ ui.subtitle_item(h.humanize_entity_type('group', group_type, 'my label') or _('My Groups')) }}
    {{ super() }}
{% endblock %}

{%- block breadcrumb_content -%}
    {{ super() }}
    {{ ui.breadcrumb_item(h.humanize_entity_type('group', group_type, 'my label') or _('My Groups'), h.url_for('dashboard.groups')) }}
{%- endblock %}

{%- block page_action %}
    {{ ui.page_action_item(h.humanize_entity_type('group', group_type, 'add link') or _('Add Group'), href=h.url_for(group_type ~ '.new')) if h.check_access('group_create') }}
{%- endblock %}

{%- block dashboard_content %}
    {{ ui.heading(h.humanize_entity_type('group', group_type, 'my label') or _('My Groups'), level=2) }}

    {%- set groups = h.groups_available(am_member=True, include_dataset_count=True, include_member_count=True) %}
    {%- if groups %}
        {{ ui.group_list(ui.util.map(ui.group_item, groups)) }}

    {%- else %}
        {{ ui.text(h.humanize_entity_type('group', group_type, 'you not member') or _('You are not a member of any groups.')) }}
        {{ ui.link(_('Create one now?'), href=h.url_for(group_type ~ '.new')) if h.check_access('group_create') }}

    {%- endif %}
{%- endblock %}
