
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://datashades.github.io/ckanext-theming/theme/">
      
      
        <link rel="prev" href="../library/wrappers/">
      
      
        <link rel="next" href="../cli/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Creating CKAN Themes - ckanext-theming</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-ckan-themes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ckanext-theming" class="md-header__button md-logo" aria-label="ckanext-theming" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ckanext-theming
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating CKAN Themes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/datashades/ckanext-theming" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ckanext-theming" class="md-nav__button md-logo" aria-label="ckanext-theming" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ckanext-theming
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/datashades/ckanext-theming" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../theming-parties/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Theming Parties
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Standard Parameter Values
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Component library
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Component library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Containers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/content/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/elements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/feedback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Feedback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/form/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Form
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/handles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Handles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/meta/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/navigation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navigation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/sections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library/wrappers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wrappers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Creating CKAN Themes
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Creating CKAN Themes
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#theme-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Theme Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-a-theme" class="md-nav__link">
    <span class="md-ellipsis">
      Registering a Theme
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registering a Theme">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-implement-the-itheme-interface" class="md-nav__link">
    <span class="md-ellipsis">
      1. Implement the ITheme Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-theme-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      2. Theme Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-custom-ui-implementation-optional" class="md-nav__link">
    <span class="md-ellipsis">
      3. Custom UI Implementation (Optional)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-ui-macros" class="md-nav__link">
    <span class="md-ellipsis">
      Creating UI Macros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating UI Macros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-the-main-macros-entry-point" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create the Main Macros Entry Point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-implement-individual-macro-files" class="md-nav__link">
    <span class="md-ellipsis">
      2. Implement Individual Macro Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Implement Individual Macro Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-order-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      Parameter Order Consistency
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ui-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      3. UI Utilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessibility-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Accessibility Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-ui-macros-in-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Using UI Macros in Templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-tools-for-theme-development" class="md-nav__link">
    <span class="md-ellipsis">
      CLI Tools for Theme Development
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI Tools for Theme Development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#theme-management" class="md-nav__link">
    <span class="md-ellipsis">
      Theme Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-management" class="md-nav__link">
    <span class="md-ellipsis">
      Component Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-management" class="md-nav__link">
    <span class="md-ellipsis">
      Template Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#endpoint-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint Analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Reference Implementation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#theme-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Theme Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-a-theme" class="md-nav__link">
    <span class="md-ellipsis">
      Registering a Theme
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registering a Theme">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-implement-the-itheme-interface" class="md-nav__link">
    <span class="md-ellipsis">
      1. Implement the ITheme Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-theme-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      2. Theme Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-custom-ui-implementation-optional" class="md-nav__link">
    <span class="md-ellipsis">
      3. Custom UI Implementation (Optional)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-ui-macros" class="md-nav__link">
    <span class="md-ellipsis">
      Creating UI Macros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating UI Macros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-the-main-macros-entry-point" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create the Main Macros Entry Point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-implement-individual-macro-files" class="md-nav__link">
    <span class="md-ellipsis">
      2. Implement Individual Macro Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Implement Individual Macro Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-order-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      Parameter Order Consistency
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ui-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      3. UI Utilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessibility-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Accessibility Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-ui-macros-in-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Using UI Macros in Templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-tools-for-theme-development" class="md-nav__link">
    <span class="md-ellipsis">
      CLI Tools for Theme Development
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI Tools for Theme Development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#theme-management" class="md-nav__link">
    <span class="md-ellipsis">
      Theme Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-management" class="md-nav__link">
    <span class="md-ellipsis">
      Component Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-management" class="md-nav__link">
    <span class="md-ellipsis">
      Template Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#endpoint-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint Analysis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Reference Implementation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="creating-ckan-themes">Creating CKAN Themes</h1>
<h2 id="theme-structure">Theme Structure</h2>
<p>A CKAN theme should be organized in the following directory structure:</p>
<div class="highlight"><pre><span></span><code>your_theme/
 ├── templates/
 │   ├── (your custom templates)
 │   └── macros/
 │       └── ui.html
 │
 ├── assets/
 │   └── (CSS, JS, and other assets)
 │
 └── public/
     └── (static files served directly)
</code></pre></div>
<h2 id="registering-a-theme">Registering a Theme</h2>
<h3 id="1-implement-the-itheme-interface">1. Implement the <code>ITheme</code> Interface</h3>
<p>In your extension's <code>plugin.py</code> file, implement the <code>ITheme</code> interface. The key method is <code>register_themes()</code> which returns a dictionary mapping theme names to <code>Theme</code> objects:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ckan.plugins</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">p</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ckanext.theming.interfaces</span><span class="w"> </span><span class="kn">import</span> <span class="n">ITheme</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ckanext.theming.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Theme</span>

<span class="k">class</span><span class="w"> </span><span class="nc">YourExtensionPlugin</span><span class="p">(</span><span class="n">ITheme</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">SingletonPlugin</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_themes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Return a dictionary of theme names to Theme objects</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;your_theme&#39;</span><span class="p">:</span> <span class="n">Theme</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;themes/your_theme&#39;</span><span class="p">),</span>
                <span class="c1"># Optionally specify a parent theme to extend</span>
                <span class="c1"># parent=&#39;parent_theme_name&#39;</span>
            <span class="p">),</span>
        <span class="p">}</span>
</code></pre></div>
<h3 id="2-theme-inheritance">2. Theme Inheritance</h3>
<p>Themes can inherit from parent themes to build upon existing functionality:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_themes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;child_theme&#39;</span><span class="p">:</span> <span class="n">Theme</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;themes/child_theme&#39;</span><span class="p">),</span>
            <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;parent_theme_name&#39;</span>  <span class="c1"># Inherits from another theme</span>
        <span class="p">),</span>
    <span class="p">}</span>
</code></pre></div>
<p>Child themes inherit all macros and templates from the parent, but can selectively override only the components they want to customize. Unimplemented macros fall back to the parent theme.</p>
<h3 id="3-custom-ui-implementation-optional">3. Custom UI Implementation (Optional)</h3>
<p>You can customize the macro loading mechanism by setting a custom UI class on the Theme. This allows you to customize how macros are loaded:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ckanext.theming.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">MacroUI</span><span class="p">,</span> <span class="n">Theme</span>

<span class="k">class</span><span class="w"> </span><span class="nc">YourThemeUI</span><span class="p">(</span><span class="n">MacroUI</span><span class="p">):</span>
    <span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;custom/location/of/macros/ui.html&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
        <span class="c1"># Additional initialization if needed</span>
</code></pre></div>
<p>Then assign it to your theme:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_themes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">.theme</span><span class="w"> </span><span class="kn">import</span> <span class="n">YourThemeUI</span>  <span class="c1"># Import your custom UI class</span>

    <span class="n">root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;your_theme&#39;</span><span class="p">:</span> <span class="n">Theme</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;themes/your_theme&#39;</span><span class="p">),</span>
            <span class="n">ui_factory</span><span class="o">=</span><span class="n">YourThemeUI</span><span class="p">,</span>  <span class="c1"># Set custom UI class</span>
        <span class="p">),</span>
    <span class="p">}</span>
</code></pre></div>
<h2 id="creating-ui-macros">Creating UI Macros</h2>
<h3 id="1-create-the-main-macros-entry-point">1. Create the Main Macros Entry Point</h3>
<p>Create <code>themes/your_theme/templates/macros/ui.html</code> with definitions of all the macros. You can define macros elsewhere and re-export them by creating global template variables:</p>
<div class="highlight"><pre><span></span><code>{% import &quot;macros/ui/element.html&quot; as element %}

{# Re-export macro #}
{% set button = element.button %}
{% set card = element.card %}

{# Define new macro #}
{% macro input() %}
    ...
{% endmacro %}
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Flexible themes</p>
<p>When macros created directly inside <code>ui.html</code> or unconditionaly re-exported as
in example above, child theme cannot override these macros using the following
code:</p>
<div class="highlight"><pre><span></span><code>{% ckan_extends %}

{# Override macro #}
{% set button = my_custom_button %}
</code></pre></div>
<p>Jinja2 processes template hierarchy in a reverse order, so the original
<code>button</code> macro will take precedence over the custom one. To make such overrides
possible, never define macros directly inside <code>ui.html</code> and always use
re-export with the default fallback:</p>
<div class="highlight"><pre><span></span><code>{% import &quot;macros/ui/element.html&quot; as element %}

{# keep definition from the child template or fallback to the original implementation #}
{% set button = button | default(element.button) %}
{% set card = card |default(element.card) %}

{# use the same fallback-strategy for macros defined in the current file. Give
the child template an opportunity to define its own `input` macro and, when
such macro is not defined, use the original `_input` as a fallback implementation #}
{% macro _input() %}
    ...
{% endmacro %}
{% set input = input | default(_input)%}
</code></pre></div>
</div>
<h3 id="2-implement-individual-macro-files">2. Implement Individual Macro Files</h3>
<p>Each macro file should contain actual implementations that use appropriate CSS classes for your chosen framework. When implementing macros, follow these conventions:</p>
<h4 id="parameter-order-consistency">Parameter Order Consistency</h4>
<p>All macros follow the same parameter convention:</p>
<ul>
<li><code>content</code> is the first positional parameter (and often the only one when needed)</li>
<li>All other parameters use named parameters with appropriate defaults</li>
<li>Always use <code>kwargs</code> for extra attributes that may be passed to the element.</li>
</ul>
<p>Example <code>themes/your_theme/templates/macros/ui/element.html</code> (using Bootstrap classes):</p>
<div class="highlight"><pre><span></span><code>{%- macro button(content, href, type=&quot;button&quot;, style=&quot;primary&quot;) -%}
    {%- if href -%}
        <span class="p">&lt;</span><span class="nt">a</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ href }}&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-{{ style }}&quot;</span><span class="p">&gt;</span>{{ content }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    {%- else -%}
        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;{{ type }}&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-{{ style }}&quot;</span><span class="p">&gt;</span>{{ content }}<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    {%- endif %}
{%- endmacro %}

{%- macro divider(content) -%}
    {%- if content -%}
        <span class="p">&lt;</span><span class="nt">div</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;divider-with-content&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;&lt;</span><span class="nt">span</span><span class="p">&gt;</span>{{ content }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    {%- else -%}
        <span class="p">&lt;</span><span class="nt">hr</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span><span class="p">&gt;</span>
    {%- endif %}
{%- endmacro %}

{%- macro image(src, alt, height, width) -%}
    <span class="p">&lt;</span><span class="nt">img</span>
        <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span>
        <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ src }}&quot;</span>
        <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">alt</span> <span class="err">%}</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;{{ alt }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
        <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">height</span> <span class="err">%}</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;{{ height }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
        <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">width</span> <span class="err">%}</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;{{ width }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
    <span class="p">&gt;</span>
{%- endmacro %}

{%- macro link(content, href, blank) -%}
    {%- if blank -%}
        {%- do kwargs.setdefault(&quot;attrs&quot;, {}).setdefault(&quot;target&quot;, &quot;_blank&quot;) -%}
        {%- do kwargs.setdefault(&quot;attrs&quot;, {}).setdefault(&quot;rel&quot;, &quot;noopener noreferrer&quot;) -%}
    {%- endif %}
    <span class="p">&lt;</span><span class="nt">a</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ href or content }}&quot;</span><span class="p">&gt;</span>{{ content }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
{%- endmacro %}
</code></pre></div>
<h3 id="3-ui-utilities">3. UI Utilities</h3>
<p>The theming system provides utility functions accessible via <code>ui.util</code>:</p>
<ul>
<li><code>ui.util.attrs(kwargs)</code>: Helper to render HTML attributes from a dictionary</li>
<li><code>ui.util.call(element, *args, **kwargs)</code>: Call an inline element as a block element</li>
<li><code>ui.util.map(element, items, *args, **kwargs)</code>: Map an element over a collection</li>
<li><code>ui.util.now()</code>: Get the current UTC datetime</li>
<li><code>ui.util.id(value, prefix="id-")</code>: Generate a unique identifier</li>
<li><code>ui.util.keep_item(category, key, value)</code>: Store items in UI storage</li>
<li><code>ui.util.pop_items(category, key=None)</code>: Retrieve and remove items from UI storage</li>
<li><code>ui.util.get_items(category, key=None)</code>: Get items from UI storage</li>
</ul>
<p>Example usage of utilities:</p>
<div class="highlight"><pre><span></span><code>{%- macro button_group(items) -%}
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-group&quot;</span><span class="p">&gt;</span>
        {{ ui.util.map(ui.button, items) }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{%- endmacro %}

{# Using call with util.call #}
{% call ui.util.call(ui.button, style=&quot;primary&quot;) %}
    <span class="p">&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>
    Click me!
{% endcall %}
</code></pre></div>
<h3 id="accessibility-considerations">Accessibility Considerations</h3>
<p>When implementing theme components, ensure proper accessibility support by using appropriate ARIA attributes and semantic HTML:</p>
<div class="highlight"><pre><span></span><code>{%- macro button(content, href, type=&quot;button&quot;, style=&quot;primary&quot;) -%}
    {%- if href -%}
        <span class="p">&lt;</span><span class="nt">a</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span>
           <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ href }}&quot;</span>
           <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-{{ style }}&quot;</span>
           <span class="err">{%</span> <span class="na">if</span> <span class="na">not</span> <span class="na">kwargs</span><span class="err">.</span><span class="na">aria</span> <span class="err">%}</span><span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;{{ content }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span><span class="p">&gt;</span>
            {{ content }}
        <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    {%- else -%}
        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span>
                <span class="na">type</span><span class="o">=</span><span class="s">&quot;{{ type }}&quot;</span>
                <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-{{ style }}&quot;</span>
                <span class="err">{%</span> <span class="na">if</span> <span class="na">not</span> <span class="na">kwargs</span><span class="err">.</span><span class="na">aria</span> <span class="err">%}</span><span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;{{ content }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span><span class="p">&gt;</span>
            {{ content }}
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    {%- endif %}
{%- endmacro %}

{%- macro input(content, name, id, label, value, required, placeholder, type=&quot;text&quot;, errors=[]) -%}
    {%- set field_id = id or (&quot;field-&quot; ~ name) if name else ui.util.id() if label else &quot;&quot; -%}
    {%- set error_id = ui.util.id() if errors -%}
    {%- set help_id = ui.util.id() if content -%}

    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        {%- if label -%}
            <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;{{ field_id }}&quot;</span><span class="p">&gt;</span>{{ label }}<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
        {%- endif %}
        {%- if content -%}
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input-help&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;{{ help_id }}&quot;</span><span class="p">&gt;</span>{{ content }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        {%- endif %}
        <span class="p">&lt;</span><span class="nt">input</span>
            <span class="err">{{</span> <span class="na">ui</span><span class="err">.</span><span class="na">util</span><span class="err">.</span><span class="na">attrs</span><span class="err">(</span><span class="na">kwargs</span><span class="err">)</span> <span class="err">}}</span>
            <span class="na">type</span><span class="o">=</span><span class="s">&quot;{{ type }}&quot;</span>
            <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">name</span> <span class="err">%}</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;{{ name }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
            <span class="na">id</span><span class="o">=</span><span class="s">&quot;{{ field_id }}&quot;</span>
            <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">value</span> <span class="err">%}</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{ value }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
            <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">placeholder</span> <span class="err">%}</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;{{ placeholder }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
            <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">required</span> <span class="err">%}</span> <span class="na">required</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
            <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">content</span> <span class="err">%}</span> <span class="na">aria-describedby</span><span class="o">=</span><span class="s">&quot;{{ help_id }}&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
            <span class="err">{%</span><span class="na">-</span> <span class="na">if</span> <span class="na">errors</span> <span class="err">%}</span> <span class="na">aria-invalid</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span>
        <span class="p">&gt;</span>
        {%- if errors %}
            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;{{ error_id }}&quot;</span><span class="p">&gt;</span>{{ ui.field_errors(errors) }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
        {%- endif %}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{%- endmacro %}
</code></pre></div>
<p>Use proper ARIA attributes (<code>aria-label</code>, <code>aria-describedby</code>, <code>aria-invalid</code>, <code>aria-hidden</code>, etc.), semantic HTML elements, and ensure keyboard navigation support.</p>
<h2 id="using-ui-macros-in-templates">Using UI Macros in Templates</h2>
<p>Once a theme is active, UI macros can be used in templates:</p>
<div class="highlight"><pre><span></span><code><span class="cp">{{</span> <span class="nv">ui.button</span><span class="o">(</span><span class="s2">&quot;Click Me&quot;</span><span class="o">,</span> <span class="nv">style</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">ui.card</span><span class="o">(</span><span class="nv">title</span><span class="o">=</span><span class="s2">&quot;My Card&quot;</span><span class="o">,</span> <span class="nv">content</span><span class="o">=</span><span class="s2">&quot;Card content here&quot;</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">ui.alert</span><span class="o">(</span><span class="s2">&quot;Success message&quot;</span><span class="o">,</span> <span class="nv">style</span><span class="o">=</span><span class="s2">&quot;success&quot;</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">ui.link</span><span class="o">(</span><span class="s2">&quot;Visit CKAN&quot;</span><span class="o">,</span> <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://ckan.org&quot;</span><span class="o">,</span> <span class="nv">blank</span><span class="o">=</span><span class="kp">True</span><span class="o">)</span> <span class="cp">}}</span>
</code></pre></div>
<p>All parameters except for <code>content</code> must be passed to macro by name. This
simplifies transition between themes, when macros expect different set of
arguments or define them in different order. <code>content</code> always comes first when
it's present, that's why it's safe to pass it without name, but all other
arguments have no recommended order and every theme is free to choose according
to its preferences.</p>
<h2 id="cli-tools-for-theme-development">CLI Tools for Theme Development</h2>
<p>The theming system provides comprehensive CLI tools for theme development and management:</p>
<h3 id="theme-management">Theme Management</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List available themes</span>
ckan<span class="w"> </span>theme<span class="w"> </span>list

<span class="c1"># Create a new theme with all required structure</span>
ckan<span class="w"> </span>theme<span class="w"> </span>create<span class="w"> </span>mytheme

<span class="c1"># Create a new theme in a specific location</span>
ckan<span class="w"> </span>theme<span class="w"> </span>create<span class="w"> </span>mytheme<span class="w"> </span>/path/to/themes
</code></pre></div>
<h3 id="component-management">Component Management</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List available components for the configured theme</span>
ckan<span class="w"> </span>theme<span class="w"> </span>component<span class="w"> </span>list

<span class="c1"># List available components for a specific theme</span>
ckan<span class="w"> </span>theme<span class="w"> </span>component<span class="w"> </span>list<span class="w"> </span>-t<span class="w"> </span>mytheme

<span class="c1"># Analyze UI components and their implementations</span>
ckan<span class="w"> </span>theme<span class="w"> </span>component<span class="w"> </span>analyze
ckan<span class="w"> </span>theme<span class="w"> </span>component<span class="w"> </span>analyze<span class="w"> </span>link<span class="w"> </span>button<span class="w"> </span>card

<span class="c1"># Check if a theme implements all required UI components</span>
ckan<span class="w"> </span>theme<span class="w"> </span>component<span class="w"> </span>check
ckan<span class="w"> </span>theme<span class="w"> </span>component<span class="w"> </span>check<span class="w"> </span>-t<span class="w"> </span>mytheme
</code></pre></div>
<h3 id="template-management">Template Management</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List template files in a theme</span>
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>list
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>list<span class="w"> </span>-t<span class="w"> </span>mytheme

<span class="c1"># Verify that a theme contains all required templates</span>
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>check
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>check<span class="w"> </span>-t<span class="w"> </span>mytheme

<span class="c1"># Analyze theme templates and their structure</span>
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>analyze
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>analyze<span class="w"> </span>_header.html<span class="w"> </span>_footer.html
ckan<span class="w"> </span>theme<span class="w"> </span>template<span class="w"> </span>analyze<span class="w"> </span>--relative-filename
</code></pre></div>
<h3 id="endpoint-analysis">Endpoint Analysis</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List registered Flask endpoints</span>
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>list

<span class="c1"># List variants of Flask endpoints</span>
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>variants
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>variants<span class="w"> </span>dataset.search<span class="w"> </span>dataset.read

<span class="c1"># Observe the template and context variables used by a Flask endpoint</span>
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>observe<span class="w"> </span>dataset.search
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>observe<span class="w"> </span>dataset.read<span class="w"> </span><span class="nv">id</span><span class="o">=</span>my-dataset<span class="w"> </span>-v
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>observe<span class="w"> </span>dataset.read<span class="w"> </span>--auth-user<span class="w"> </span>admin<span class="w"> </span><span class="nv">id</span><span class="o">=</span>my-dataset

<span class="c1"># Dump templates and context variables used by Flask endpoints in JSON format</span>
ckan<span class="w"> </span>theme<span class="w"> </span>endpoint<span class="w"> </span>dump<span class="w"> </span>--auth-user<span class="w"> </span>admin<span class="w"> </span>--user<span class="w"> </span>testuser<span class="w"> </span>--package<span class="w"> </span>testpkg<span class="w"> </span>--resource<span class="w"> </span>testres<span class="w"> </span>--resource-view<span class="w"> </span>testview<span class="w"> </span>--organization<span class="w"> </span>testorg<span class="w"> </span>--group<span class="w"> </span>testgroup
</code></pre></div>
<h2 id="configuration">Configuration</h2>
<p>To use a theme, configure it in your CKAN configuration:</p>
<div class="highlight"><pre><span></span><code><span class="na">ckan.plugins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">... theming</span>
<span class="na">ckan.ui.theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">your_theme</span>
</code></pre></div>
<h2 id="reference-implementation">Reference Implementation</h2>
<p>The <code>bare</code> theme in this extension serves as a reference implementation showing the minimal structure needed for a theme. You can use it as a starting point for building your own themes by running:</p>
<div class="highlight"><pre><span></span><code>ckan<span class="w"> </span>theme<span class="w"> </span>create<span class="w"> </span>mytheme
</code></pre></div>
<p>This creates a new theme based on the bare theme structure with all required components.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../library/wrappers/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Wrappers">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Wrappers
              </div>
            </div>
          </a>
        
        
          
          <a href="../cli/" class="md-footer__link md-footer__link--next" aria-label="Next: CLI">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                CLI
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.footer", "navigation.indexes", "navigation.top", "content.code.copy", "content.code.select", "content.code.annotate", "content.tooltips", "content.footnote.tooltips"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>